<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <meta name="author" content="Bane Sullivan"> 
    <link rel="canonical" href="https://banesullivan.github.io/ParaViewGeophysics/Plugins/Readers/Read-Binary-Packed-Data-to-Table/"> 
    <link rel="shortcut icon" href="../../../img/favicon.ico">

    <title>Read Binary Packed Data - ParaViewGeophysics</title>

    <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/font-hack/2.018/css/hack.min.css">
    <link href='//fonts.googleapis.com/css?family=PT+Sans:400,400italic,700,700italic&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href="../../../css/base.css" rel="stylesheet">
    <link href="../../../css/cinder.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../css/highlight.css">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script>
    <script>
    WebFont.load({
        google: {
            families: ['Open Sans', 'PT Sans']
        }
    });
    </script>

    
</head>

<body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="../../..">ParaViewGeophysics</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="../../..">Home</a>
                    </li>
                
                
                
                    <li >
                        <a href="../../../Getting-Started/">Getting Started</a>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Plugins <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../Plugins/">About ParaView Plugins</a>
</li>

                        
                            
<li >
    <a href="../../Build-Your-Own-Plugins/">Build Your Own Plugins</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Readers</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../Read-SGeMS-Grid/">Read SGeMS Grid</a>
</li>

        
            
<li >
    <a href="../Read-GSLIB-File-to-Table/">Read GSLIB File</a>
</li>

        
            
<li >
    <a href="../Read-UBC-Mesh-Two-File-Format/">Read UBC Mesh Two File Format</a>
</li>

        
            
<li class="active">
    <a href="./">Read Binary Packed Data</a>
</li>

        
            
<li >
    <a href="../Read-Delimited-File-to-Table/">Read Delimited File</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Filters</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../Filters/Table-to-Uniform-Grid/">Table to Uniform Grid</a>
</li>

        
            
<li >
    <a href="../../Filters/Flip-Grid-Axii/">Flip Grid Axii</a>
</li>

        
            
<li >
    <a href="../../Filters/Reshape-Table/">Reshape Table</a>
</li>

        
            
<li >
    <a href="../../Filters/Add-Cell-Connectivity-to-Points/">Add Cell Connectivity to Points</a>
</li>

        
            
<li >
    <a href="../../Filters/Points-to-Tube/">Points to Tube</a>
</li>

        
            
<li >
    <a href="../../Filters/Translate-Origin-of-Grid/">Translate Origin of Grid</a>
</li>

        
            
<li >
    <a href="../../Filters/Normalize-Array/">Normalize Array</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">PVGPpy <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../PVGPpy/About-PVGPpy/">About PVGPpy</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Export Sub-Module</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../PVGPpy/export/exportVTKjs/">Export as VTKjs</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Vis Sub-Module</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../PVGPpy/vis/Clip-Through/">Clip Through</a>
</li>

        
            
<li >
    <a href="../../../PVGPpy/vis/Many-Slices-Along-Points/">Many Slices Along Points</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Resources <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Scripts</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../Scripts/Example-Script/">Example Script</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Examples/Tutorials</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../Examples/Slice-Model-Along-PolyLine/">Slice Model Along PolyLine</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Virtual Reality</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../Virtual-Reality/Entering-Virtual-Reality/">Entering Virtual Reality</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                
                    <li >
                        <a rel="next" href="../Read-UBC-Mesh-Two-File-Format/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../Read-Delimited-File-to-Table/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                
                
                    <li>
                        <a href="https://github.com/banesullivan/ParaViewGeophysics">
                            
                                <i class="fa fa-github"></i>
                            
                            GitHub
                        </a>
                    </li>
                
            </ul>
        </div>
    </div>
</div>

    <div class="container">
        
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="first-level active"><a href="#about-this-reader">About this Reader</a></li>
        
    
        <li class="first-level "><a href="#down-the-pipeline">Down the Pipeline</a></li>
        
    
        <li class="first-level "><a href="#example-use">Example Use</a></li>
        
    
    </ul>
</div></div>
        <div class="col-md-9" role="main">

<h1 id="about-this-reader">About this Reader</h1>
<p>This filter reads in float or double data that is packed into a binary file format. It will treat the data as one long array and make a vtkTable with one column of that data. The reader uses big endian and defaults to import as floats. Use the &lsquo;Table to Uniform Grid&rsquo; or the &lsquo;Reshape Table&rsquo; filters to give more meaning to the data. We chose to use a vtkTable object as the output of this reader because it gives us more flexibility in the filters we can apply to this data down the pipeline and keeps thing simple when using filters in this repository.</p>
<p>There is a checkbox you can use to specify double precision if needed and a text box where you can specify the data variable name. The default for the data variable name is the base name of the file, however you may want something less verbose or more specific.</p>
<h1 id="down-the-pipeline">Down the Pipeline</h1>
<ul>
<li><a href="../../Filters/Table-to-Uniform-Grid/">Table to Uniform Grid</a></li>
<li><a href="../../Filters/Reshape-Table/">Reshape Table</a></li>
<li><a href="https://www.paraview.org/Wiki/ParaView/Users_Guide/List_of_filters#Table_To_Points">Table to Points</a></li>
<li><a href="https://www.paraview.org/Wiki/ParaView/Users_Guide/List_of_filters#Table_To_Structured_Grid">Table to Structured Grid</a></li>
<li><a href="../../Filters/Normalize-Array/">Normalize Array</a></li>
</ul>
<h1 id="example-use">Example Use</h1>
<p>For an example of how to use this reader, lets make our own test file of packed floats in binary format. Run this script outside of ParaView to create a test file. It will compute a ripple function and write out all the <code>Z</code> data as packed floats.</p>
<pre><code class="py">import struct
import numpy as np

# The 2D space we are working with
step = np.pi/64.
x = y = np.arange(-np.pi,np.pi + step, step)
X, Y = np.meshgrid(x,y)

# A cool looking ripple function
def f(x,y):
    return np.sin((x**2 + y**2))

# Compute the values of the ripple function in our space
Z = np.zeros(np.shape(X), dtype=np.float32)
for i in range(len(x)):
    for j in range(len(y)):
        Z[i,j] = f(X[i,j],Y[i,j])

# Parameters for a 'Table to Uniform Grid' filter
print(&quot;Shape of grid (n1,n2,n3): &quot;, np.shape(Z))
print(&quot;Spacing for all axii: &quot;, step)
print(&quot;Origin (x,y,z): &quot;, (np.min(x),np.min(y),0.0))


#---- Export Data ----#
# NOTE: Copy and paste the code below for your needs

# Flatten the matrix in C-Contiguous manner
Z = Z.flatten()

## Choose floats or doubles ##
# Pack as FLOATs:
data = struct.pack('&gt;'+str(len(Z))+'f',*Z)
# Or pack as DOUBLEs:
#   (be sure to enable the 'Double Values' checkbox
#   on the reader when loading into ParaView)
#data = struct.pack('&gt;'+str(len(Z))+'d',*Z)

# Open file to write binary data
f = open('~/test_file.bin', 'wb')
# Write out the packed data in binary format
f.write(data)
# Close the file
f.close()
</code></pre>

<p>Now select &lsquo;File-&gt;Open&hellip;&rsquo; within ParaView and choose <code>test_file.bin</code> wherever you saved it. This reader will unpack the floats and load them into a table. You can now use this data in many ways. For example, apply a &lsquo;Table to Uniform Grid&rsquo; filter (from this repository) and set the filter parameters to the information in the print out from when you ran the script above. Once you have vtkImageData made of the data, you can apply a &lsquo;Warp by Scalar&rsquo; filter for a fun visualization effect to see 3D ripples like the example below!</p>
<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; height: auto;">
        <iframe src="https://rawgit.com/banesullivan/PVGPvtk.js/master/StandaloneSceneLoader.html?fileURL=https://dl.dropbox.com/s/6m5ttdbv5bf4ngj/ripple.vtkjs?dl=0" frameborder="0" allowfullscreen style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></iframe>
</div></div>
        
    </div>

    <footer class="col-md-12 text-center">
        <hr>
        <p>
        <small>Copyright &copy 2017, Christopher Bane Sullivan<br></small>
        
        <small>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p></small>
    </footer>

    <script src="../../../js/jquery-1.10.2.min.js"></script>
    <script src="../../../js/bootstrap-3.0.3.min.js"></script>
    <script src="../../../js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script>
    var base_url = '../../..';
    </script>
    <script data-main="../../../mkdocs/js/search.js" src="../../../mkdocs/js/require.js"></script>
    <script src="../../../js/base.js"></script>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">&times;</span>
                        <span class="sr-only">Close</span>
                    </button>
                    <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                </div>
                <div class="modal-body">
                    <p>
                        From here you can search these documents. Enter your search terms below.
                    </p>
                    <form role="form">
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                        </div>
                    </form>
                    <div id="mkdocs-search-results"></div>
                </div>
                <div class="modal-footer">
                </div>
            </div>
        </div>
    </div>

    </body>

</html>
